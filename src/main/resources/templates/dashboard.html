<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒ€ì‹œë³´ë“œ</title>
    <style>
        body {
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
          margin: 0;
          padding: 0;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          min-height: 100vh;
          color: white;
        }
        .container {
          max-width: 1200px;
          margin: 0 auto;
          padding: 20px;
        }
        .header {
          background: rgba(255, 255, 255, 0.1);
          padding: 30px;
          border-radius: 15px;
          margin-bottom: 30px;
          backdrop-filter: blur(10px);
          text-align: center;
        }
        .user-info {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 20px;
          margin-bottom: 30px;
        }
        .info-card {
          background: rgba(255, 255, 255, 0.1);
          padding: 25px;
          border-radius: 15px;
          backdrop-filter: blur(10px);
        }
        .info-card h3 {
          margin-top: 0;
          color: #fff;
          border-bottom: 2px solid rgba(255, 255, 255, 0.3);
          padding-bottom: 10px;
        }
        .info-item {
          display: flex;
          justify-content: space-between;
          margin-bottom: 10px;
          padding: 5px 0;
        }
        .info-label {
          font-weight: bold;
        }
        .info-value {
          color: #e0e0e0;
        }
        .authorities {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }
        .authority-badge {
          background: rgba(76, 175, 80, 0.8);
          padding: 4px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: bold;
        }
        .navigation {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 15px;
          margin-bottom: 30px;
        }
        .nav-button {
          display: block;
          padding: 15px 20px;
          background: rgba(255, 255, 255, 0.2);
          color: white;
          text-decoration: none;
          border-radius: 10px;
          text-align: center;
          transition: all 0.3s ease;
          border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .nav-button:hover {
          background: rgba(255, 255, 255, 0.3);
          transform: translateY(-2px);
        }
        .nav-button.admin {
          background: rgba(244, 67, 54, 0.8);
        }
        .nav-button.manager {
          background: rgba(255, 152, 0, 0.8);
        }
        .logout-section {
          text-align: center;
          margin-top: 30px;
        }
        .logout-button {
          padding: 12px 30px;
          background: rgba(244, 67, 54, 0.8);
          color: white;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 16px;
          transition: all 0.3s ease;
        }
        .logout-button:hover {
          background: rgba(244, 67, 54, 1);
          transform: translateY(-2px);
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>ğŸ“Š ëŒ€ì‹œë³´ë“œ</h1>
        <p>ì•ˆë…•í•˜ì„¸ìš”, <span th:text="${fullName}">ì‚¬ìš©ì</span>ë‹˜!</p>
    </div>

    <div class="user-info">
        <!-- ì‚¬ìš©ì ê¸°ë³¸ ì •ë³´ -->
        <div class="info-card">
            <h3>ğŸ‘¤ ì‚¬ìš©ì ì •ë³´</h3>
            <div class="info-item">
                <span class="info-label">ì‚¬ìš©ìëª…:</span>
                <span class="info-value" th:text="${username}">username</span>
            </div>
            <div class="info-item">
                <span class="info-label">ì´ë©”ì¼:</span>
                <span class="info-value" th:text="${email}">email@example.com</span>
            </div>
            <div class="info-item">
                <span class="info-label">ì´ë¦„:</span>
                <span class="info-value" th:text="${fullName}">Full Name</span>
            </div>
            <div class="info-item">
                <span class="info-label">ì‚¬ìš©ì ID:</span>
                <span class="info-value" th:text="${user.id}">1</span>
            </div>
        </div>

        <!-- ê³„ì • ìƒíƒœ ì •ë³´ -->
        <div class="info-card">
            <h3>ğŸ”’ ê³„ì • ìƒíƒœ</h3>
            <div class="info-item">
                <span class="info-label">í™œì„±í™”:</span>
                <span class="info-value" th:text="${user.enabled} ? 'âœ… í™œì„±í™”ë¨' : 'âŒ ë¹„í™œì„±í™”ë¨'">ìƒíƒœ</span>
            </div>
            <div class="info-item">
                <span class="info-label">ê³„ì • ë§Œë£Œ:</span>
                <span class="info-value" th:text="${user.accountNonExpired} ? 'âœ… ë§Œë£Œë˜ì§€ ì•ŠìŒ' : 'âŒ ë§Œë£Œë¨'">ìƒíƒœ</span>
            </div>
            <div class="info-item">
                <span class="info-label">ê³„ì • ì ê¸ˆ:</span>
                <span class="info-value" th:text="${user.accountNonLocked} ? 'âœ… ì ê¸ˆë˜ì§€ ì•ŠìŒ' : 'âŒ ì ê¸ˆë¨'">ìƒíƒœ</span>
            </div>
            <div class="info-item">
                <span class="info-label">ìê²©ì¦ëª… ë§Œë£Œ:</span>
                <span class="info-value" th:text="${user.credentialsNonExpired} ? 'âœ… ë§Œë£Œë˜ì§€ ì•ŠìŒ' : 'âŒ ë§Œë£Œë¨'">ìƒíƒœ</span>
            </div>
        </div>

        <!-- ê¶Œí•œ ì •ë³´ -->
        <div class="info-card">
            <h3>ğŸ›¡ï¸ ê¶Œí•œ ì •ë³´</h3>
            <div class="info-item">
                <span class="info-label">ë³´ìœ  ê¶Œí•œ:</span>
                <div class="authorities">
                    <span class="authority-badge" th:each="authority : ${authorities}" th:text="${authority}">ROLE_USER</span>
                </div>
            </div>
            <div class="info-item" style="margin-top: 15px;">
                <span class="info-label">ì—­í• :</span>
                <div class="authorities">
                    <span class="authority-badge" th:each="role : ${user.roles}" th:text="${role}">USER</span>
                </div>
            </div>
        </div>

        <!-- ì‹œê°„ ì •ë³´ -->
        <div class="info-card">
            <h3>â° ì‹œê°„ ì •ë³´</h3>
            <div class="info-item">
                <span class="info-label">ê³„ì • ìƒì„±ì¼:</span>
                <span class="info-value" th:text="${#temporals.format(user.createdAt, 'yyyy-MM-dd HH:mm')}">ìƒì„±ì¼</span>
            </div>
            <div class="info-item">
                <span class="info-label">ë§ˆì§€ë§‰ ë¡œê·¸ì¸:</span>
                <span class="info-value" th:text="${user.lastLoginAt != null ? #temporals.format(user.lastLoginAt, 'yyyy-MM-dd HH:mm') : 'ì •ë³´ ì—†ìŒ'}">ë¡œê·¸ì¸ ì‹œê°„</span>
            </div>
        </div>
    </div>

    <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
    <div class="navigation">
        <a href="/profile" class="nav-button">ğŸ“‹ í”„ë¡œí•„</a>
        <a sec:authorize="hasRole('MANAGER')" href="/manager" class="nav-button manager">ğŸ‘¨â€ğŸ’¼ ë§¤ë‹ˆì €</a>
        <a sec:authorize="hasRole('ADMIN')" href="/admin" class="nav-button admin">ğŸ‘¨â€ğŸ’» ê´€ë¦¬ì</a>
        <a href="/" class="nav-button">ğŸ  í™ˆ</a>
    </div>

    <!-- ë¡œê·¸ì•„ì›ƒ -->
    <div class="logout-section">
        <form th:action="@{/logout}" method="post">
            <button type="submit" class="logout-button">ğŸšª ë¡œê·¸ì•„ì›ƒ</button>
        </form>
    </div>
</div>
</body>
</html>